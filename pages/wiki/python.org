# -*- mode: Org; org-download-image-dir: "../../images"; -*-
#+BEGIN_COMMENT
.. title: python
.. slug: python
#+END_COMMENT

* Awesome Python

https://github.com/CodementorIO/Python-Learning-Resources
* IDE
 pycharm
* 在线编程
- PythonTip
   http://www.pythontip.com/coding/code_oj
- lintcode
   http://www.lintcode.com/zh-cn/problem/
* comic

#+DOWNLOADED: http://sophai.github.io/arch_2013/files_2013/Coding/python_comic/02_img.jpg @ 2017-01-10 10:53:23
[[file:../../images/comic/02_img_2017-01-10_10-53-23.jpg]]

#+DOWNLOADED: http://sophai.github.io/arch_2013/files_2013/Coding/python_comic/01_python.png @ 2017-01-10 10:55:35
[[file:../../images/comic/01_python_2017-01-10_10-55-35.png]]
* 应用
** Python HTTP 服务

=python -m http.server=
** 文件 IO
*** Numpy
You can use seek with a file object in the normal way, and then use this file object in fromfile. Here's a full example:

#+BEGIN_SRC python

import numpy as np
import os

data = np.arange(100, dtype=np.int)
data.tofile("temp")  # save the data

f = open("temp", "rb")  # reopen the file
f.seek(256, os.SEEK_SET)  # seek

x = np.fromfile(f, dtype=np.int)  # read the data into numpy
print x 
# [64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88
# 89 90 91 92 93 94 95 96 97 98 99]


#+END_SRC

写个函数看
#+BEGIN_SRC python
def load_data(path, height=128, width=128, dtype=np.uint16):
    with open(path, "rb") as f:
        f.seek(256, os.SEEK_SET)  # seek
        x = np.fromfile(f, dtype=dtype, count=height*width) # read the data into numpy

    return np.reshape(x, (height, width))
#+END_SRC
* 异常处理
捕捉异常可以使用try/except语句。
try/except语句用来检测try语句块中的错误，从而让except语句捕获异常信息并处理。
如果你不想在异常发生时结束你的程序，只需在try里捕获它。
语法：

#+BEGIN_EXAMPLE
try:
<语句>        #运行别的代码
except <名字>：
<语句>        #如果在try部份引发了'name'异常
except <名字>，<数据>:
<语句>        #如果引发了'name'异常，获得附加的数据
else:
<语句>        #如果没有异常发生 
finally:
#+END_EXAMPLE


如果在try子句执行时没有发生异常，python将执行else语句后的语句（如果有else的话），然后控制流通过整个try语句。
* python 风格规范 google 开源项目
** 字符串


 即使参数都是字符串, 使用%操作符或者格式化方法格式化字符串. 不过也不能一概而论, 你需要在+和%之间好好判定.

 Yes:
#+BEGIN_SRC python
  x = a + b
  x = '%s, %s!' % (imperative, expletive)
  x = '{}, {}!'.format(imperative, expletive)
  x = 'name: %s; score: %d' % (name, n)
  x = 'name: {}; score: {}'.format(name, n) 
#+END_SRC
 No:
#+BEGIN_SRC python
  x = '%s%s' % (a, b)  # use + in this case
  x = '{}{}'.format(a, b)  # use + in this case
  x = imperative + ', ' + expletive + '!'
  x = 'name: ' + name + '; score: ' + str(n)
#+END_SRC
